function Tile(a){var b=a;var c="rotateX( 0deg ) rotateY( 0deg ) translateZ( 0px )";var d=function(){b.style.webkitTransformOrigin="50% 50%";b.style.MozTransformOrigin="50% 50%";b.style.msTransformOrigin="50% 50%";b.style.oTransformOrigin="50% 50%";b.style.transformOrigin="50% 50%";b.parentElement.style.webkitTransformStyle="preserve-3d";b.parentElement.style.MozTransformStyle="preserve-3d";b.parentElement.style.msTransformStyle="preserve-3d";b.parentElement.style.oTransformStyle="preserve-3d";b.parentElement.style.transformStyle="preserve-3d";b.style.webkitTransition="-webkit-transform 0.08s";b.style.MozTransition="-moz-transform 0.08s";b.style.msTransition="-ms-transform 0.08s";b.style.oTransition="-o-transform 0.08s";b.style.transition="transform 0.08s";b.style.outline="1px solid transparent";b.style.webkitFontSmoothing="antialiased";b.addEventListener("mousedown",f,false)};var e=function(a,c){var d=b.offsetWidth;var e=b.offsetHeight;var f="perspective( 800px ) ";if(a>d/4&&a<d/4*3&&c>e/4&&c<e/4*3){f+="rotateX( 0deg ) rotateY( 0deg ) translateZ( -30px )"}else if(Math.min(a,d-a)<Math.min(c,e-c)){if(a<d-a){f+="rotateX( 0deg ) rotateY( -20deg ) translateZ( 0px )"}else{f+="rotateX( 0deg ) rotateY( 20deg ) translateZ( 0px )"}}else{if(c<e-c){f+="rotateX( 20deg ) rotateY( 0deg ) translateZ( 0px )"}else{f+="rotateX( -20deg ) rotateY( 0deg ) translateZ( 0px )"}}b.style.webkitTransform=f;b.style.MozTransform=f;b.style.msTransform=f;b.style.oTransform=f;b.style.transform=f;document.addEventListener("mouseup",g,false)};var f=function(a){if(a.offsetX){e(a.offsetX,a.offsetY);return}var c=i(b);var d=a.pageX-c.x;var f=a.pageY-c.y;e(d,f)};var g=function(a){b.style.webkitTransform=c;b.style.MozTransform=c;b.style.msTransform=c;b.style.oTransform=c;b.style.transform=c;document.removeEventListener("mouseup",g,false)};var h=function(a,b){return parseInt(a.getPropertyValue(b),10)};var i=function(a){var b=0,c=0;var d=true;do{b+=a.offsetLeft;c+=a.offsetTop;var e=getComputedStyle(a,null);var f=h(e,"border-top-width");var g=h(e,"border-left-width");c+=f;b+=g;if(d){var i=h(e,"padding-top");var j=h(e,"padding-left");c+=i;b+=j}d=false}while(a=a.offsetParent);return{x:b,y:c}};d()}var tileElements=document.getElementsByClassName("metro-tile");var i;for(i=0;i<tileElements.length;i++){Tile(tileElements[i])}